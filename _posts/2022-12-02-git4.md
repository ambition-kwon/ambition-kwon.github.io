---
title: (Git)나 커밋 실수했어... 과거로 돌아갈래!
categories: [Git]
comments: true
---

## 아, 커밋 실수했다...😭
어느정도 `git`을 익숙하게 쓰다보면 레포트를 쓰며 `ctrl + s`를 `무의식적`으로 누르듯이 `git add -A` / `git commit -m "~~"`을 반복적으로 타이핑 하고 있는 스스로를 발견할 수 있다. 그러다 보면 꼭 `문제`가 생기기 마련인데... 바로 `잘못된 내용인 상태로 커밋한 경우`이다.

`ctrl + s`로 저장한 일반적인 파일 같은 경우엔 `ctrl + z`로 웬만한 문제들은 해결이 되지만 우리의 `Git은 그렇지 않다`. 사용자가 직접 `명령어를 입력`하여 과거의 기록으로 되돌아가야 하는데, 이게 또 무지하게 `헷갈린다`.

지금부터 `Git에 잘못된 내용을 커밋`했을 때, `2가지 대처방법`에 대해 알아보자.

<br>

## Reset? or Revert?

커밋 기록을 `되돌리는 방법`에는 `두 가지`가 있다.

첫 번째로 아예 커밋 `기록을 말소`하고 과거로 되돌리는 `Reset`

두 번째로 과거로 되돌리겠다고 `기록을 남긴 후` 되돌리는 `Revert`

협업시 `Reset보다는 Revert를 사용하길 권장`한다. 왜냐면 과거로 되돌린 기록 자체가 `하나의 중요한 기록`이기 때문이다. 1인 프로젝트라면 별 상관이 없을 수도 있겠지만 여러명이서 개발하는 `Cowork간에는 Revert`를 사용하는 것이 옳다고 생각한다. **구체적인 사용법은 다음과 같다.**

<br>

### `reset 사용법`**(ID를 기준 저장된 내용으로 되돌린다)**

~~~
git reset --soft [ID] // 커밋이후 변경된 내용들은 존재하되(staging area), commit기록만 말소
git reset --mixed [ID] // 커밋이후 변경된 내용들은 존재하되(working directory), commit기록만 말소
git reset --hard [ID] // 커밋이후 변경된 내용들 기록 자체 말소
~~~

### `revert 사용법`**(ID를 기준으로 -1번째 저장된 내용으로 되돌린다)**
    - 예를들어 현재 "3-2"이고, "3-1" commit으로 revert하려면, 3-2를 기준으로 revert시키면 된다.(revert는 해당 커밋의 영향으로 +,- 된 변화량을 -,+로 변화시키기 때문)
    - 무조건 가장 최신의 커밋부터 revert해줘야 충돌이 나지 않는다. reset과 달리 하나하나 차근차근 내려가야 한다.


~~~
git revert HEAD
git revert HEAD^
git revert HEAD^^
~~~






